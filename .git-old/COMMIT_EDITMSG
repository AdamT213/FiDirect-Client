still working through bug with state
